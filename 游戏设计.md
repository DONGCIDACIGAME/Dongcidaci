# 2023/04/02 
代码设计更改的一些想法

1. agent status 里的逻辑挪到具体的status里  
2. move control 挪到具体的status里，例如idle里的inputcontrol就不会控制移动，run status里，input control只控制转向，只要在run里，就会以speed的速度朝着角色朝向移动。  
3. 每个status里添加一个命令队列（考虑直接使用一个数组，或者一个int，每一位表示一个指令），在status的onaction里，判断每种action是直接执行还是要放入指令队列中，对于放入指令队列中的指令，在每个节拍上去处理，这里又要根据status去区分处理，比如有些状态是可以打断的，例如一个runloop占2拍，要进入idle状态，就在第一拍的时候就打断，进入idle。是否打断，也要看当前状态和目标指令之间的关系，例如一个攻击假如占4拍，指令是idle，那就是不能打断的，如果指令xxx，可能就能打断。
4. input control也要挪到status里，每个status的input逻辑单独控制。input检测到的指令，处理逻辑参考上一条
